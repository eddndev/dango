---
interface Props {
    primaryLogo?: string;
    secondaryLogo?: string;
    ticketsLink?: string;
}

const {
    primaryLogo = "/images/logo-principal.png",
    secondaryLogo = "/images/logo-secundario.png",
    ticketsLink = "https://arema.mx/e/16435/Festival-Dango-2026",
} = Astro.props;

import DangoLogo from "./DangoLogo.astro";
---

<div class="dual-logos-container w-full h-full flex flex-col items-center pb-8 md:pb-12">
    <!-- Spacer to push Primary Logo to center -->
    <div class="flex-1"></div>

    <!-- Primary Logo (Centered) -->
    <div class="flex-[2] flex items-center justify-center">
        <DangoLogo class="logo logo-primary text-white" />
    </div>

    <!-- Spacer to push Secondary Logo to bottom -->
    <div class="flex-1 flex flex-col justify-end">
        <!-- Secondary Logo with Link -->
        <a
            href={ticketsLink}
            target="_blank"
            rel="noopener noreferrer"
            class="logo-secondary-link flex flex-col items-center gap-4 group"
        >
            <DangoLogo
                class="w-32 md:w-48 text-white opacity-60 group-hover:opacity-100 transition-all duration-300"
            />
            <span
                class="text-white text-xl md:text-2xl font-bold tracking-[0.2em] opacity-80 group-hover:opacity-100 transition-all duration-300 font-outfit border border-white/30 px-6 py-2 rounded-full hover:bg-white/10"
            >
                COMPRA TUS BOLETOS
            </span>
        </a>
    </div>
</div>

<script>
    import { getRandomDangoColor } from "../utils/colorUtils";

    document.addEventListener("astro:page-load", () => {
        const secondaryLink = document.querySelector(".logo-secondary-link");

        if (secondaryLink) {
            secondaryLink.addEventListener("mouseenter", () => {
                const randomColor = getRandomDangoColor();
                (secondaryLink as HTMLElement).style.filter = `
          drop-shadow(0 0 20px ${randomColor})
          brightness(1.2)
        `;
            });

            secondaryLink.addEventListener("mouseleave", () => {
                (secondaryLink as HTMLElement).style.filter = "";
            });
        }
    });
</script>

<style>
    .dual-logos-container {
        position: relative;
    }

    .logo {
        max-width: 800px;
        width: 90vw;
        height: auto;
        transition: all 0.3s ease;
    }

    .logo-primary {
        filter: drop-shadow(0 10px 30px rgba(255, 255, 255, 0.3));
    }

    .logo-secondary-link {
        transition:
            transform 0.3s ease,
            filter 0.3s ease;
        cursor: pointer;
    }

    .logo-secondary-link:hover {
        transform: scale(1.05);
    }

    @media (max-width: 768px) {
        .logo {
            max-width: 400px;
        }
    }
</style>
